@(hirings: List[model.domain.Hiring])
@import helper.bootstrap._
<script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
    
@main("Contrataciones") {

<h2>Contrataciones</h2>

<div id="actions" class="btn-group">
	<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
		Buscar mas..
    	<span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
	    <li><a href="@routes.HiringController.getHiringByType(model.domain.Hiring.HiringType.PLACE.toString())" onclick="return false;">@model.domain.Hiring.HiringType.PLACE</a></li>
	    <li class="divider"></li>
	    <li><a href="@routes.HiringController.getHiringByType(model.domain.Hiring.HiringType.PHOTOS.toString())" onclick="return false;">@model.domain.Hiring.HiringType.PHOTOS</a></li>
	    <li class="divider"></li>
	    <li><a href="@routes.HiringController.getHiringByType(model.domain.Hiring.HiringType.VIDEOS.toString())" onclick="return false;">@model.domain.Hiring.HiringType.VIDEOS</a></li>
	    <li class="divider"></li>
	    <li><a href="@routes.HiringController.getHiringByType(model.domain.Hiring.HiringType.MUSIC.toString())" onclick="return false;">@model.domain.Hiring.HiringType.MUSIC</a></li>
	</ul>
	<script type="text/javascript">
			//begin main function
           $(".dropdown-menu li a").click(function(){
        	   $.getJSON($(this).attr("href"),  function(json){
        	  		renderHandlebarsTemplate("@routes.Assets.at("javascripts/template_tableHiring.handlebars")", '#tableContainer', json);
              });
           });
           //end main function

                   // function to compile handlebars template
           function renderHandlebarsTemplate(withTemplate,inElement,json){
        		getTemplateAjax(withTemplate, function(template) {
           				$(inElement).html(template(json));
           		})
           };
            
           // render handlebars templates via ajax
           function getTemplateAjax(path, callback) {
           		var source, template;
        		$.ajax({
           				url: path,
           				success: function (data) {
           								source = data;
           								template = Handlebars.compile(source);
           								if (callback) 
           									callback(template);
           								}
           				});
           };
	</script>
</div>

<div id="tableContainer" class="table table-bordered table-striped media"></div>
 
<article>
    <h3>Novedades</h3>
    <ul>
        <li>
            Nueva Respuesta:
            <figure class="media">
                <a href="/mockup/Contact" alt="Contactar" class="pull-left">
                    <img class="media-object" src="http://lorempixel.com/64/64/people" alt="someone else"/>
                </a>
                <div class="media-body">
                    <h6>Another provider</h6>
                    <small>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                        quis nostrud enisi ut aliquip ex ea commodo
                        consequat (...) <a href="/mockup/Conversacion">Leer</a>
                    </small>
                </div>
            </figure>
        </li>
    </ul>
</article>

<article>
    <h3>Conversaciones en curso</h3>
    <table class='table table-hover'>
        <thead>
            <tr>
                <th>Origen</th>
                <th>Detalle</th>
                <th>Datos</th>
                <th>Presupuesto</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><a href="/mockup/Civil">Civil</a></td>
                <td><a href="/mockup/tasks/hire">Contratar Fotografo</a></td>
                <td class="media">
                    <a href="/mockup/Contact" alt="Contactar" class="pull-left">
                        <img class="media-object" src="http://lorempixel.com/64/64/people?2" alt="someone else"/>
                    </a>
                    <div class="media-body">
                        <h6>Another provider</h6>
                        <small>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat.
                        </small>
                    </div>
                </td>
                <td> $XX.XXX </td>
                <td><a href="/mockup/Conversacion">Ver</a></td>
            </tr>
        </tbody>
    </table>

</article>

}